<!DOCTYPE html>
<html lang="eng">
	<head>
		<!---{% load static %}--->
		<title>RPG Stuff - by: Nathan Hare</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta property="og:title" content="rpg stuff" />
		<meta property="og:image" content="images/title.png" />
		<meta property="og:description" content="A blog by Nathan Hare about tabletop roleplaying games.">
		<meta property="og:url" content="http://rpg.nathanhare.net/mou/">
		<meta name="twitter:card" content="summary_large_image">
		<link rel="shortcut icon" href="images/favicon.png" type="image/x-icon">
		<link href="bootstrap-3.3.7-dist/css/bootstrap.min.css" rel="stylesheet" media="screen">
		<link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap-theme.min.css" media="screen">
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
		<link href="https://use.fontawesome.com/5c75cade5f.css" media="all" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans|Oswald" rel="stylesheet">
		<style>
			body {
				font-family: "Open Sans", sans-serif;
				background: #eee;
				color: #333;
				margin-top: 50px;
			}
			h1,h2,h3,h4,h5,h6 {
				font-family: "Oswald", cursive;
			}
			header {
				width: 100%;
				height: 50px;
				box-shadow: 0px 3px 10px rgba(0,0,0,0.5);
				line-height: 50px;
				background: #6300a0;
				color: #fff;
				z-index: 10;
				position: fixed;
				top: 0;
			}
			header h3 {
				margin: 0;
				padding: 0;
				line-height: 50px;
				display: inline-block;
			}
			header h3 a:hover {
				text-decoration: none;
			}
			header a:link,
			header a:active,
			header a:visited,
			header a:hover
			{
				color: #fff;
			}
			header nav {
				display: inline-block;
			}
			header nav a {
				margin-left: 15px;
			}
			.post-content {
				background: #fff;
				box-shadow: 0px 3px 10px #666;
				z-index: 5;

			}
			.post-content .img-thumbnail,
			.post-content .thumbnail {
				margin: 15px;
			}
			.post-banner {
				width: 100%;
				height: 45vh;
				min-height: 200px;
			}
			.brick {
				position: absolute;
				/*
				background: #ccc;
				padding: 20px;
				border: 1px solid #000;
				*/
				width: 300px;
				box-shadow: 3px 3px 5px rgba(0,0,0,0.2);
				-webkit-transition: all 1s ease-in-out;
    		-moz-transition: all 1s ease-in-out;
    		-o-transition: all 1s ease-in-out;
    		-ms-transition: all 1s ease-in-out;
    		transition: all 1s ease-in-out;
			}
			.label {
				margin-bottom: 15px;
			}
			.thumbnail .caption h3 {
				margin: 10px 0;
			}
		</style>
	</head>
	<body>

		<header>
			<div class="container-fluid">
				<h3>
					<a href="/">
						<i class="fa fa-plus-square"></i> 
						<i class="fa fa-square"></i> 
						rpg stuff 
						<i class="fa fa-minus-square"></i>
						<i class="fa fa-plus-square"></i>
					</a>
				</h3>
				<nav>
					<a href="">Tools</a>
					<a href="">Projects</a>
					<a href="/about/">About</a>
				</nav>
			</div>
		</header>

		<!---
		<section class="jumbotron">

		</section>
		--->

		<main>
			{% block content %}{% endblock %}
		</main>

		<footer>

		</footer>

		<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>	
		<script>
			var colCount = 0;
			var colWidth = 0;
			var defaultColWidth = 300;
			var margin = 20;
			var windowWidth = 0;
			var blocks = [];

			$(function(){
				$(window).resize(setupBlocks);
			});

			function setupBlocks() {
				windowWidth = $('.wall').width();

				if (windowWidth < (defaultColWidth+margin*2)*2) {
					$('.brick').width(windowWidth - margin/2);
					$('.brick').css('position', 'unset');
				} else {
					$('.brick').css('position', 'absolute');
					$('.brick').width(defaultColWidth - margin/2);
					colWidth = $('.brick').outerWidth();

					blocks = [];
					console.log(blocks);
					colCount = Math.floor(windowWidth/(colWidth+margin*2));
					for(var i=0;i<colCount;i++){
						blocks.push(margin);
					}
					console.log(blocks);
					positionBlocks();
				}
			}

			function positionBlocks() {
				$('.brick').each(function(){
					var min = Array.min(blocks);
					var index = $.inArray(min, blocks);
					var leftPos = margin+(index*(colWidth+margin));
					$(this).css({
						'left':leftPos+'px',
						'top':min+'px'
					});
					blocks[index] = min+$(this).outerHeight()+margin;
				});	
			}

			// Function to get the Min value in Array
			Array.min = function(array) {
					return Math.min.apply(Math, array);
			};

			$(document).ready(function () {
			
				setupBlocks();

				$(window).resize(setupBlocks);
			
			});
		</script>
	</body>
</html>
